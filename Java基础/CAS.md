CAS，比较并交换，解决的是并发问题当中的原子性问题，由于volatile只能保证可见性，所以需要保证原子性需要锁机制，sychronizd会导致其他线程挂起，是一种悲观锁，CAS机制就是用来实现乐观锁的。

CAS需要三个操作数，内存地址，预期旧址，新值，每次线程计算出新值以后，都需要检测内存地址目前的值是不是和预期的旧址一样，如果是一样的，就可以确保这期间没有其他线程更新过内存当中的值，线程可以将这个新的值更新回内存，如果检测不一样，证明有其他线程操作过，所以这个线程需要重新计算。