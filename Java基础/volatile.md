volatile可以理解为对变量单个读写操作进行加锁。

volatile可以确保变量的可见性，在多线程环境当中，有可能存在多个线程对同一个变量的操作，为了确保一致性，需要每个线程在操作这个变量时，都要确保操作的是最新的变量，volatile可以实现。

在Java内存模型当中，每个线程都有自己的工作空间，在操作内存中的数据时，会先读取一份到工作空间，然后操作工作空间的副本，操作完毕以后会在工作空间中对数据进行缓存。

如果一个变量是被volatile修饰的，当线程操作完数据以后，不会在工作空间进行缓存，会立即刷新到内存，其他CPU会嗅探总线知道自己本地的变量有被更新到内存，导致工作内存变量无效，会重新读取新的值。

如何实现不在内存缓存的？

对一个volatile修饰的变量的写操作翻译成为汇编代码以后，会加上一条lock指令，这条指令会确保变量立即写好缓存。



