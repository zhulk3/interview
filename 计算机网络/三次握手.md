第一次握手，客户端向服务器发送一个数据包，将确认标志位置1，进入同步发送状态；

第二次握手，服务器收到客户端得握手请求以后，向客户端发送一个数据包，同时将确认标志位和同步标志位置1，进入同步接受状态；

第三次握手，客户端收到服务器发送的数据包以后，向服务器发送一个数据包，将确认标志位置1，连接建立成功；

为什么需要三次握手？

三次握手的目的是客户端和服务器都需要确认自己和对方都具备收发数据的能力。

第一次握手，客户端确认自己可以发送数据，服务器确认自己可以接收数据；

第二次握手，客户端确认自己可以发送，接收数据，服务器可以接收，发送数据，服务器可以确认自己发送数据，接收数据，对方可以发送数据；

第三次握手，服务器确认对方可以接收数据。



需要三次握手的另一个原因是防止脏连接，如果服务器收到一个已经超时的连接请求，然后服务器同意建立连接的话，向客户端发送确认包和同步包，但是客户端目前并没有处于syc_sent状态，所以只有服务器处于连接状态，建立了脏连接。





